# ğŸ” Admin Portal Guide

## Admin Access

### Default Admin Credentials
- **Email:** `admin@diratrot.com`
- **Password:** `Admin@123` (temporary - change immediately after first login)
- **Access URL:** `/admin/login`

---

## ğŸš€ Quick Start

1. Navigate to `/admin/login` on your website
2. Enter the default admin credentials
3. After successful login, you'll be redirected to the Admin Dashboard
4. **IMPORTANT:** Change your password immediately (see instructions below)

---

## ğŸ”„ How to Change Admin Password

### Option 1: Using Database Studio (Recommended)

1. **Access Database Studio:**
   - Look at the top right of your page
   - Click on the "Database Studio" tab (next to Analytics)

2. **Navigate to the account table:**
   - Find and open the `account` table
   - Locate the record where:
     - `user_id` = `admin_diratrot_E651BB9760D5BD90839303508EBEF308`
     - `provider_id` = `credential`

3. **Update the password field:**
   - You'll need to hash your new password using bcrypt
   - Use a bcrypt hash generator (search "bcrypt generator online")
   - Set rounds to `10`
   - Enter your desired new password
   - Copy the generated hash
   - Replace the `password` field value with the new hash

### Option 2: Using the Set Password API

You can use the `/api/admin/set-password` endpoint to change passwords programmatically:

```bash
curl -X POST http://localhost:3000/api/admin/set-password \
  -H "Content-Type: application/json" \
  -d '{
    "userId": "admin_diratrot_E651BB9760D5BD90839303508EBEF308",
    "password": "YourNewSecurePassword123!"
  }'
```

### Option 3: Create a Password Change UI (Future Enhancement)

You can build a settings page in your admin dashboard where admins can change their password through a form. This would:
1. Verify the current password
2. Accept a new password
3. Call the `/api/admin/set-password` endpoint
4. Update the password securely

---

## ğŸ‘¤ How to Change Admin Email

### Using Database Studio:

1. Open Database Studio tab
2. Navigate to the `user` table
3. Find the admin user record (role = 'admin')
4. Update the `email` field to your new email address
5. Also update the `email_verified` field if needed
6. Navigate to the `account` table
7. Update the `account_id` field to match the new email

---

## ğŸ†• How to Create Additional Admin Accounts

### Method 1: Promote an Existing User

1. User signs up normally through `/signup`
2. Access Database Studio
3. Open the `user` table
4. Find the user you want to promote
5. Change their `role` field from `user` to `admin`
6. That user can now access `/admin/login` with admin privileges

### Method 2: Create New Admin Directly in Database

1. Access Database Studio
2. In the `user` table, add a new record:
   ```
   id: [auto-generated by better-auth]
   email: newemail@example.com
   name: New Admin Name
   role: admin
   email_verified: 1
   created_at: [current timestamp]
   updated_at: [current timestamp]
   ```
3. Use the Set Password API to create credentials for this user
4. The new admin can now log in at `/admin/login`

---

## ğŸ”’ Security Best Practices

### Password Requirements:
- âœ… Minimum 8 characters (recommended: 12+)
- âœ… Mix of uppercase and lowercase letters
- âœ… Include numbers
- âœ… Include special characters (!@#$%^&*)
- âŒ Don't use common words or patterns
- âŒ Don't reuse passwords from other sites

### Account Security:
1. **Change Default Password Immediately:** The default `Admin@123` is only for initial setup
2. **Use Strong Passwords:** Follow the requirements above
3. **Keep Admin Credentials Private:** Never share admin login details
4. **Regular Password Updates:** Change passwords periodically
5. **Monitor Admin Access:** Check who has admin privileges regularly

---

## ğŸ¯ Admin vs Regular User Access

### Admin Dashboard (`/admin`)
- **Access:** Admin role only
- **Features:**
  - Product management (Create, Read, Update, Delete)
  - Order management
  - User management
  - System settings

### Regular User Pages
- **Access:** Any authenticated user
- **Pages:** `/shop`, `/cart`, `/checkout`, `/orders`, `/contact`

### Public Pages
- **Access:** Everyone (no login required)
- **Pages:** `/` (homepage), `/login`, `/signup`, `/admin/login`

---

## ğŸš¨ Troubleshooting

### "Access Denied" Error
- **Cause:** Your account doesn't have admin role
- **Solution:** Check the `role` field in the `user` table - it must be `admin`

### "Invalid Credentials" Error
- **Cause:** Wrong email or password
- **Solution:** 
  1. Verify you're using the correct email
  2. If password forgotten, use Database Studio or Set Password API to reset

### Redirected to Shop Instead of Admin Dashboard
- **Cause:** Your account has `user` role instead of `admin`
- **Solution:** Update your role to `admin` in the `user` table

### Can't Access Database Studio
- **Cause:** Database Studio tab not visible
- **Solution:** Look for it in the top right corner of the page, next to the Analytics tab

---

## ğŸ“Š Database Tables Reference

### `user` Table (Authentication)
- `id`: User unique ID (text)
- `email`: User email
- `name`: User display name
- **`role`**: Either `user` or `admin` ğŸ”‘
- `email_verified`: Boolean
- `created_at`, `updated_at`: Timestamps

### `account` Table (Credentials)
- `id`: Account unique ID
- `user_id`: References user.id
- `provider_id`: Authentication provider (e.g., 'credential')
- `account_id`: Usually the email
- **`password`**: Bcrypt hashed password ğŸ”‘
- `created_at`, `updated_at`: Timestamps

---

## ğŸ’¡ Additional Resources

- **Better-auth Documentation:** [https://www.better-auth.com](https://www.better-auth.com)
- **Bcrypt Generator:** Search "bcrypt generator" online for password hashing tools
- **Database Studio:** Access via the tab at the top right of your page

---

## âœ… Post-Setup Checklist

- [ ] Changed default admin password from `Admin@123`
- [ ] Verified admin email is correct
- [ ] Tested login at `/admin/login`
- [ ] Confirmed access to Admin Dashboard
- [ ] Stored new credentials securely (password manager recommended)
- [ ] Reviewed security best practices
- [ ] Tested that regular users cannot access `/admin`

---

**Need Help?** If you encounter any issues, check the troubleshooting section or reach out for support.
